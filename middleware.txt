understanding middleware 

app.use(express.json()) //ads the req body to the req 

req - middleware - res 

middleware - usually for req

middleware order of execution matters a lot

***
Custom middleware
***

app.use() for using middlewares

all middleware applies to all types of req if the route handler comes after the middleware



MOUNTING ROUTES - HOW TO APPLY MIDDLEWARE ONLY TO A CERTAIN ROUTES

app.use('/api/v1/movies', moviesRouter) //middleware will only be applied to this link

//METHOD 2 CHAINING
moviesRouter.route ('/')  //we need to remove this whole path cause we are already appending
  .get(getAllMovies)
  .post(createMovie)

moviesRouter.route ('/:id')  //we need to remove this whole path cause we are already appending from our app.use   ...except from /:id - in our router app use we have: app.use('/api/v1/movies', moviesRouter)
  .get(getMovie)
  .patch(updateMovie)
  .delete(deleteMovie)